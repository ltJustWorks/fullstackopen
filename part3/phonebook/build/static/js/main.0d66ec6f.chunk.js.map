{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Persons","filteredPeople","map","PersonForm","newName","handleNewName","newPhone","handleNewPhone","addPerson","onSubmit","value","onChange","type","Filter","keyword","handleKeyword","Notification","message","className","Error","baseUrl","axios","get","newPerson","post","delete","put","App","useState","persons","setPersons","setNewName","setNewPhone","setKeyword","filter","setFilter","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personsService","then","response","data","kw","handleNotificationMessage","setTimeout","handleErrorMessage","updatePerson","catch","error","console","log","toLowerCase","includes","event","target","preventDefault","newId","length","personCheck","find","undefined","window","confirm","personName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0d66ec6f.chunk.js","sourcesContent":["const Person = ({person, deletePerson}) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button onClick={() => {deletePerson(person.id)}}>Delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Persons = ({filteredPeople, deletePerson}) => {\r\n  return (\r\n    <div>\r\n      {filteredPeople.map(person => <Person person={person} deletePerson={deletePerson} key={person.name} />)}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Persons","const PersonForm = ({newName, handleNewName, newPhone, handleNewPhone, addPerson}) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNewName} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newPhone} onChange={handleNewPhone} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n \r\n}\r\n\r\nexport default PersonForm","const Filter = ({keyword, handleKeyword}) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={keyword} onChange={handleKeyword}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","const Notification = ({message}) => {\r\n\tif (message === null) {\r\n\t\treturn null\r\n\t}\r\n\telse {\r\n\t\treturn (\r\n\t\t\t<div className=\"notification\">\r\n\t\t\t\t{message}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Notification","const Error = ({message}) => {\r\n\tif (message === null) {\r\n\t\treturn null\r\n\t}\r\n\telse {\r\n\t\treturn (\r\n\t\t\t<div className=\"error\">\r\n\t\t\t\t{message}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Error","import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n\treturn axios.get(baseUrl)\r\n}\r\n\r\nconst add = newPerson => {\r\n\treturn axios.post(baseUrl, newPerson)\r\n}\r\n\r\nconst remove = id => {\r\n\treturn axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n\treturn axios.put(`${baseUrl}/${id}`, newPerson)\r\n}\r\n\r\nexport default { getAll, add, remove, update }","import React, { useEffect, useState } from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport Error from './components/Error'\r\nimport personsService from './services/persons'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newPhone, setNewPhone ] = useState('')\r\n  const [ keyword, setKeyword ] = useState('')\r\n  const [ filter, setFilter ] = useState(false)\r\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n  }, [])\r\n\r\n  const handleNotificationMessage = message => {\r\n    setNotificationMessage(message)\r\n    setTimeout(() => {\r\n      setNotificationMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const handleErrorMessage = message => {\r\n    setErrorMessage(message)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    const newId = persons.length > 1 ? persons[persons.length - 1].id + 1 : 1\r\n\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newPhone,\r\n      id: newId\r\n    }\r\n\r\n    const personCheck = persons.find(person => person.name === newName)\r\n\r\n    if (personCheck !== undefined) {\r\n      const id = personCheck.id\r\n      if (window.confirm(`${newName} is already added to phonebook, do you want to update the existing entry?`)) {\r\n        updatePerson(id, newPerson)\r\n      }\r\n      setNewName('')\r\n      setNewPhone('')\r\n      return\r\n    }\r\n\r\n    personsService\r\n      .add(newPerson)\r\n      .then(response => {\r\n        setPersons([...persons, response.data])\r\n        handleNotificationMessage(`Added ${newName}`)\r\n      })\r\n      .catch(error => {\r\n        handleErrorMessage('Error when adding entry')\r\n      })\r\n\r\n    setNewName('')\r\n    setNewPhone('')\r\n  }\r\n\r\n  const updatePerson = (id, newPerson) => {\r\n    personsService\r\n      .update(id, newPerson)\r\n      .then(response => {\r\n        setPersons(persons.map(person => person.id !== id ? person : response.data))\r\n        handleNotificationMessage(`Changed ${newName}'s number to ${newPhone}`)\r\n      })\r\n      .catch(error => {\r\n        console.log('error: ', error)\r\n        handleErrorMessage(`Information of ${newPerson.name} was already removed from server`)\r\n        setPersons(persons.filter(person => person.id !== id))\r\n      })\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n    const personName = persons.find(person => person.id === id).name\r\n    if (!window.confirm(`Delete ${personName}?`)) return\r\n\r\n    personsService\r\n      .remove(id)\r\n      .then(response => {\r\n        handleNotificationMessage(`Removed ${personName} from phonebook`)\r\n        setPersons(persons.filter(person => person.id !== id))\r\n      })\r\n      .catch(error => {\r\n        handleErrorMessage(`Information of ${personName} was already removed from server`)\r\n        setPersons(persons.filter(person => person.id !== id))\r\n      })\r\n  }\r\n\r\n  const handleNewName = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNewPhone = (event) => {\r\n    setNewPhone(event.target.value)\r\n  }\r\n\r\n  const handleKeyword = (event) => {\r\n    setKeyword(event.target.value)\r\n    if (event.target.value === '') {\r\n      setFilter(false)\r\n    }\r\n    else {\r\n      setFilter(true)\r\n    }\r\n  }\r\n\r\n  const filterPersons = (kw) => persons.filter(person => person.name.toLowerCase().includes(kw.toLowerCase()))\r\n\r\n  const filteredPeople = filter\r\n    ? filterPersons(keyword)\r\n    : persons\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notificationMessage} />\r\n      <Error message={errorMessage} />\r\n      <Filter handleKeyword={handleKeyword} keyword={keyword} />\r\n\r\n      <h2>add a new</h2>\r\n      <PersonForm newName={newName} handleNewName={handleNewName} newPhone={newPhone} handleNewPhone = {handleNewPhone} addPerson={addPerson} />\r\n      <h2>Numbers</h2>\r\n      <Persons filteredPeople={filteredPeople} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App.js'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}